// Generated by CoffeeScript 1.6.3
(function() {
  var Habit, app, app_name,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  app_name = "myApp";

  app = angular.module("" + app_name + ".services", []);

  app.service('Habit', Habit = (function() {
    function Habit(name, streakXdaysAgo) {
      this.name = name;
      this.streakXdaysAgo = streakXdaysAgo;
      this.clicked = __bind(this.clicked, this);
      this.streak = this.streakXdaysAgo[1];
    }

    Habit.prototype.ticked = 0;

    Habit.prototype.previousStreak = function() {
      return this.streakXdaysAgo[1];
    };

    Habit.prototype.increaseStreak = function() {
      if (this.previousStreak() > 1) {
        return this.previousStreak() + 1;
      } else {
        return 1;
      }
    };

    Habit.prototype.sameStreak = function() {
      return this.previousStreak();
    };

    Habit.prototype.failedStreak = function() {
      if (this.previousStreak() < 0) {
        return this.previousStreak() - 1;
      } else {
        return -1;
      }
    };

    Habit.prototype.clicked = function() {
      this.ticked = (this.ticked + 1) % 3;
      return this.streak = (function() {
        switch (false) {
          case this.ticked !== 1:
            return this.increaseStreak();
          case this.ticked !== 2:
            return this.failedStreak();
          default:
            return this.sameStreak();
        }
      }).call(this);
    };

    return Habit;

  })());

}).call(this);

/*
//@ sourceMappingURL=HabitModel.map
*/
